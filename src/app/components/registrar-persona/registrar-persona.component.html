<!-- Título de la modal -->
<div class="title" mat-dialog-title>
  <h1>{{ title }}</h1>
</div>

<!-- Formulario -->
<form [formGroup]="personForm" (ngSubmit)="submitForm()">
  <div class="content-form" mat-dialog-content>
  
    <div class="row">
      <!-- Nombre persona -->
      <mat-form-field appearance="outline">
        <mat-label>Nombre</mat-label>
        <input matInput type="text" placeholder="Ingrese su nombre" formControlName="nombre">
        <mat-error *ngIf="personForm.get('nombre')?.hasError('required')">
          <span>Por favor ingrese su nombre</span>
        </mat-error>
      </mat-form-field>
  
      <!-- Número de cédula -->
      <mat-form-field appearance="outline">
        <mat-label>Número de cédula</mat-label>
        <input matInput type="number" placeholder="Ingrese su número de cédula" formControlName="cedula">
        <mat-error *ngIf="personForm.get('cedula')?.hasError('required')">
          <span>Por favor ingrese su número de cédula</span>
        </mat-error>
        <mat-error *ngIf="personForm.get('cedula')?.hasError('cedulaInvalida') && !personForm.get('cedula')?.hasError('required')">
          <span>{{personForm.get('cedula')?.getError('cedulaInvalida')}}</span>
        </mat-error>
      </mat-form-field>
  
    </div>

    <div class="row">
      <!-- Género -->
      <mat-form-field appearance="outline">
        <mat-label>Género</mat-label>
        <mat-select formControlName="genero">
          <mat-option value="Masculino">Masculino</mat-option>
          <mat-option value="Femenino">Femenino</mat-option>
          <mat-option value="Otro">Otro</mat-option>
        </mat-select>
        <mat-error *ngIf="personForm.get('genero')?.hasError('required')">
          Por favor seleccione su género.
        </mat-error>
      </mat-form-field>

    <!-- </div> -->
  
    <!-- <div class="row"> -->

      <!-- Fecha de nacimiento -->
      <mat-form-field appearance="outline">
        <mat-label>Fecha de nacimiento</mat-label>
        <input matInput [matDatepicker]="datepicker" type="text" [max]="todayDate" autocomplete="off" 
              (click)="datepicker.open()" (keydown)="false" formControlName="fechaNacimiento">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="datepicker"></mat-datepicker-toggle>
        <mat-datepicker #datepicker>
          <mat-datepicker-actions>
            <button mat-button matDatepickerCancel class="button-cancel">Cancelar</button>
            <button mat-raised-button color="primary" matDatepickerApply class="button-date">Confirmar</button>
          </mat-datepicker-actions>
        </mat-datepicker>
        <mat-error *ngIf="personForm.get('fechaNacimiento')?.hasError('required')">
          <span>Por favor seleccione su fecha de nacimiento</span>
        </mat-error>
        <mat-error *ngIf="personForm.get('fechaNacimiento')?.hasError('menorDeEdad')">
          <span>Su fecha de nacimiento no corresponde</span>
        </mat-error>
      </mat-form-field>

    </div>
  
  </div>
  
  <!-- Botones -->
  <div class="action-buttons" mat-dialog-actions>
    <button class="button-cancel" mat-raised-button type="button" [mat-dialog-close]="false">Cancelar</button>
    <button class="button-save-edit" mat-raised-button type="submit" [disabled]="personForm.invalid || personForm.pristine">{{data ? 'Actualizar' : 'Guardar'}}</button>
  </div>
</form>